var map = L.map('map', {
	center: [20.5937, 78.9629],
	maxZoom: 12,
	minZoom:4,
	zoom: 5,
	zoomControl: false
});

var addressPoints =[['17.63513, 83.2646', '17.697110000000002, 83.32066999999999', '17.758974, 83.37704000000001'], ['20.505535000000002, 85.99650600000001', '20.554779999999997, 85.98592'], ['20.548578, 86.49110999999999', '20.597801, 86.48069', '20.647043, 86.47026', '20.69629, 86.45979', '20.745533, 86.44934', '20.794762, 86.43887', '20.84398, 86.42839000000001', '20.893206, 86.41793', '20.942434, 86.40746999999999'], ['20.687918, 86.35795999999999', '20.737165, 86.34747', '20.7864, 86.33697'], ['20.704544, 86.56314', '20.753782, 86.55272', '20.803007, 86.54228', '20.852222, 86.53184', '20.901442000000003, 86.52141', '20.950666000000002, 86.510994'], ['20.811132, 86.64726999999999', '20.860342000000003, 86.63685600000001', '20.909557, 86.626465', '20.958776, 86.61608000000001', '21.008001, 86.60569', '21.057226, 86.595314', '21.106453, 86.58494', '21.155655, 86.57454'], ['20.819136, 86.75388000000001', '20.86834, 86.74351', '20.91755, 86.733154', '20.966763, 86.7228', '21.015982, 86.71245', '21.065203, 86.70211', '21.114424, 86.69176999999999', '21.16362, 86.68141', '21.212831, 86.671036'], ['20.996275, 88.03508000000001', '21.045412, 88.02516999999999', '21.094553, 88.01526'], ['20.974623, 86.83122', '21.023836, 86.82091', '21.073051, 86.8106', '21.122267, 86.8003', '21.171457, 86.78998', '21.220665, 86.77964', '21.26988, 86.76931'], ['21.129978, 86.91059', '21.179165, 86.90031'], ['21.137556, 87.02273000000001', '21.186737, 87.012474'], ['21.40147, 88.22383', '21.450588, 88.21396', '21.49969, 88.20414', '21.548807, 88.19436'], ['21.141298000000003, 83.70253000000001', '21.152414, 83.77790999999999', '21.201715, 83.76658', '21.262026000000002, 83.83122'], ['21.5305, 87.79592', '21.579655, 87.78596999999999'], ['21.633366, 89.22351', '21.682392, 89.214066'], ['21.652748000000003, 88.3133', '21.70184, 88.303566'], ['21.68648, 89.37735', '21.735481, 89.36799', '21.784496, 89.35861', '21.83355, 89.34917', '21.88253, 89.33976'], ['21.756422, 88.435524', '21.80555, 88.42576', '21.85461, 88.41604'], ['21.864874, 88.7094', '21.913939000000003, 88.699776'], ['22.065910000000002, 88.82302', '22.11495, 88.81354'], ['22.31256, 86.01124', '22.36178, 86.000694'], ['22.419209, 86.09324000000001', '22.468418, 86.08273', '22.51763, 86.07222', '22.566862, 86.06175', '22.616112, 86.0513', '22.665304000000003, 86.04082', '22.71454, 86.0303', '22.763767, 86.01977', '22.812970999999997, 86.00926'], ['22.574939999999998, 86.16646999999999', '22.624185999999998, 86.15606', '22.673374, 86.14560999999999', '22.722607, 86.13513', '22.771828, 86.12464', '22.821026, 86.114174'], ['22.640352, 85.73541', '22.6896, 85.724785'], ['22.681313, 86.25200000000001', '22.730541, 86.24155999999999', '22.779757999999998, 86.23111'], ['22.689121, 86.36005', '22.738342000000003, 86.34964000000001', '22.787556, 86.33923'], ['22.698036, 85.82518', '22.74727, 85.814575'], ['22.70635, 85.926994', '22.75558, 85.91643499999999'], ['23.06531, 89.45812', '23.11433, 89.44895'], ['23.10012, 85.84268', '23.149338, 85.83215', '23.198528, 85.82159'], ['23.108276, 85.94629', '23.15749, 85.9358', '23.206676, 85.92527'], ['23.533129000000002, 86.29394', '23.582344, 86.28359', '23.631542, 86.27325', '23.680726999999997, 86.26288000000001'], ['23.574766, 86.17309', '23.62397, 86.162704', '23.67316, 86.15229000000001'], ['23.589776999999998, 86.39589000000001', '23.63897, 86.38559000000001', '23.688148, 86.37527'], ['23.646248, 86.49981', '23.695421, 86.489525'], ['23.790873, 87.33852399999999', '23.840002, 87.32859', '23.889122, 87.31869'], ['23.771551000000002, 86.131485', '23.82074, 86.12111', '23.869938, 86.110725', '23.919142, 86.10028', '23.968338, 86.08988000000001', '24.017542000000002, 86.07952', '24.066734, 86.06915', '24.1159, 86.05875', '24.165104, 86.04829000000001', '24.214312, 86.03784', '24.263507999999998, 86.027435', '24.312685000000002, 86.017044'], ['23.807835, 86.70359', '23.856993, 86.693436', '23.906162, 86.683266'], ['23.821234, 86.946625', '23.870376999999998, 86.93656999999999'], ['23.845879, 87.46096', '23.894989000000002, 87.4511'], ['23.79725, 85.79911', '23.846462, 85.78859'], ['23.86225, 86.00169', '23.911459, 85.99121', '23.960659, 85.980774', '24.009867, 85.97036999999999', '24.059065, 85.95996', '24.108235999999998, 85.94951', '24.157444, 85.939', '24.206657, 85.92851999999999', '24.255860000000002, 85.91807'], ['23.877482999999998, 86.22148', '23.926682999999997, 86.21108000000001'], ['23.94132, 86.43816', '23.990501000000002, 86.4279'], ['23.987392, 87.29878000000001', '24.036526000000002, 87.28885'], ['23.952842999999998, 85.87334', '24.002054, 85.86288499999999', '24.051256, 85.85243', '24.100431, 85.84194000000001', '24.149645, 85.8314', '24.198862, 85.82087', '24.248070000000002, 85.81038000000001'], ['24.053434, 87.694824', '24.102547, 87.6851'], ['24.025072, 86.19041', '24.074259, 86.180084', '24.12342, 86.16972'], ['24.032455, 86.3031', '24.081636, 86.29281999999999'], ['24.200716, 87.665596', '24.249826000000002, 87.655754'], ['24.593538, 87.58731999999999', '24.642664, 87.57755'], ['25.215181, 88.70602', '25.264167999999998, 88.696724', '25.31316, 88.687485', '25.362146, 88.67823', '25.411146, 88.66896'], ['25.233567999999998, 86.40827', '25.282719, 86.39808000000001', '25.331877, 86.38786999999999'], ['25.318201000000002, 86.15033000000001', '25.367395000000002, 86.14005', '25.41655, 86.12975'], ['25.071716000000002, 82.70475', '25.132166, 82.77017', '25.18141, 82.75851', '25.219452, 82.6696', '25.23065, 82.74681'], ['25.176006, 83.08435', '25.186728, 83.1644', '25.22525, 83.07281', '25.27449, 83.06124'], ['25.306646, 82.5694', '25.31794, 82.64615', '25.329138, 82.72341999999999', '25.378384, 82.71171600000001', '25.427623999999998, 82.7', '25.465675, 82.61093000000001', '25.526127, 82.6766', '25.564173, 82.58744', '25.60211, 82.49871', '25.65134, 82.48691'], ['25.616873000000002, 82.25891', '25.654435999999997, 82.17192', '25.677706, 82.32259', '25.726929000000002, 82.31071999999999', '25.738419, 82.38677', '25.787663000000002, 82.37491999999999', '25.825413, 82.286964'], ['25.992365, 85.77509', '26.041553, 85.764725'], ['26.006544, 86.0061', '26.055723, 85.99583'], ['26.097872, 85.86895', '26.147047, 85.858574'], ['25.741117000000003, 82.07328000000001', '25.802139999999998, 82.1361', '25.851364, 82.12416', '25.900602, 82.1122', '25.961525, 82.17553000000001', '25.973116, 82.25128000000001', '25.98461, 82.3275', '26.045238, 82.39235', '26.094475, 82.38051'], ['26.117487, 85.41053000000001', '26.166681, 85.39999', '26.215857, 85.38944000000001', '26.265046999999996, 85.378876'], ['26.132576, 85.63101', '26.18176, 85.62057'], ['26.13989, 85.74387', '26.18907, 85.733475'], ['26.287409000000004, 85.712654', '26.336588, 85.702225', '26.385761, 85.69179'], ['26.399857, 85.9236', '26.449023999999998, 85.91328', '26.498182, 85.90297'], ['26.642104999999997, 84.45861', '26.650765999999997, 84.55694', '26.659302, 84.65655', '26.682528, 84.350525', '26.691309999999998, 84.44766', '26.69997, 84.546036', '26.708502000000003, 84.64569', '26.73173, 84.33955', '26.740509000000003, 84.43673000000001', '26.749166, 84.53515', '26.772066, 84.23253000000001', '26.780965999999996, 84.32856'], ['27.264159999999997, 84.12199', '27.313340000000004, 84.110916'], ['26.947994, 81.31468000000001', '26.997194, 81.30236'], ['27.194576, 82.606804', '27.243821999999998, 82.59504'], ['27.241657, 80.937', '27.254509000000002, 81.0094', '27.29086, 80.9245', '27.352932, 80.984474'], ['28.650915, 80.19555', '28.6644, 80.26778399999999'], ['28.828446999999997, 80.60696', '28.864684999999998, 80.52074'], ['28.79839, 80.15687', '28.81188, 80.2292'], ['28.803978000000004, 79.40187', '28.853102000000003, 79.38859599999999'], ['28.981394, 80.03288', '28.995014, 80.10516'], ['28.951310999999997, 79.362', '29.000466999999997, 79.34871', '29.049566, 79.3354', '29.098678999999997, 79.32209'], ['29.044442999999998, 79.5628', '29.093552000000003, 79.5496']];

;

;

; 


L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png').addTo(map);

var colors = ['FF0000', '0000FF','00FF00','00308f', '72a0c1', 'a32638', 'f0f8ff', 'e32636', 'c46210', 'efdecd', 'e52b50', 'ffbf00', 'ff7e00', 'ff033e', '96c', 'a4c639', 'f2f3f4', 'cd9575', '915c83', '841b2d', 'faebd7', '008000', '8db600', 'fbceb1', '0ff', '7fffd4', '4b5320', '3b444b', 'e9d66b', 'b2beb5', '87a96b', 'f96', 'a52a2a', 'fdee00', '6e7f80', '568203', '007fff', 'f0ffff', '89cff0', 'a1caf1', 'f4c2c2', '21abcd', 'fae7b5', 'ffe135', '7c0a02', '848482', '98777b', 'bcd4e6', '9f8170', 'f5f5dc', '9c2542', 'ffe4c4', '3d2b1f', 'fe6f5e', 'bf4f51', '000', '3d0c02', '253529', '3b3c36', 'ffebcd', 'a57164', '318ce7', 'ace5ee', 'faf0be', '00f', 'a2a2d0', '1f75fe', '69c', '0d98ba', '0093af', '0087bd', '339', '0247fe', '126180', '8a2be2', 'de5d83', '79443b', '0095b6', 'e3dac9', 'c00', '006a4e', '873260', '0070ff', 'b5a642', 'cb4154', '1dacd6', '6f0', 'bf94e4', 'c32148', 'ff007f', '08e8de', 'd19fe8', 'f4bbff', 'ff55a3', 'fb607f', '004225', 'cd7f32', '964b00', 'a52a2a', 'ffc1cc', 'e7feff', 'f0dc82', '480607', '800020', 'deb887', 'c50', 'e97451', '8a3324', 'bd33a4', '702963', '536872', '5f9ea0', '91a3b0', '006b3c', 'ed872d', 'e30022', 'fff600', 'a67b5b', '4b3621', '1e4d2b', 'a3c1ad', 'c19a6b', 'efbbcc', '78866b', 'ffef00', 'ff0800', 'e4717a', '00bfff', '592720', 'c41e3a', '0c9', '960018', 'd70040', 'eb4c42', 'ff0038', 'ffa6c9', 'b31b1b', '99badd', 'ed9121', '062a78', '92a1cf', 'ace1af', '007ba7', '2f847c', 'b2ffff', '4997d0', 'de3163', 'ec3b83', '007ba7', '2a52be', '6d9bc3', '007aa5', 'e03c31', 'a0785a', 'fad6a5', '36454f', 'e68fac', 'dfff00', '7fff00', 'de3163', 'ffb7c5', 'cd5c5c', 'de6fa1', 'a8516e', 'aa381e', '7b3f00', 'd2691e', 'ffa700', '98817b', 'e34234', 'd2691e', 'e4d00a', 'fbcce7', '0047ab', 'd2691e', '6f4e37', '9bddff', 'f88379', '002e63', '8c92ac', 'b87333', 'da8a67', 'ad6f69', 'cb6d51', '966', 'ff3800', 'ff7f50', 'f88379', 'ff4040', '893f45', 'fbec5d', 'b31b1b', '6495ed', 'fff8dc', 'fff8e7', 'ffbcd9', 'fffdd0', 'dc143c', 'be0032', '0ff', '00b7eb', 'ffff31', 'f0e130', '00008b', '654321', '5d3954', 'a40000', '08457e', '986960', 'cd5b45', '008b8b', '536878', 'b8860b', 'a9a9a9', '013220', '00416a', '1a2421', 'bdb76b', '483c32', '734f96', '8b008b', '036', '556b2f', 'ff8c00', '9932cc', '779ecb', '03c03c', '966fd6', 'c23b22', 'e75480', '039', '872657', '8b0000', 'e9967a', '560319', '8fbc8f', '3c1414', '483d8b', '2f4f4f', '177245', '918151', 'ffa812', '483c32', 'cc4e5c', '00ced1', '9400d3', '9b870c', '00703c', '555', 'd70a53', 'a9203e', 'ef3038', 'e9692c', 'da3287', 'fad6a5', 'b94e48', '704241', 'c154c1', '004b49', '95b', 'c0c', 'ffcba4', 'ff1493', '843f5b', 'f93', '00bfff', '66424d', '1560bd', 'c19a6b', 'edc9af', '696969', '1e90ff', 'd71868', '85bb65', '967117', '00009c', 'e1a95f', '555d50', 'c2b280', '614051', 'f0ead6', '1034a6', '7df9ff', 'ff003f', '0ff', '0f0', '6f00ff', 'f4bbff', 'cf0', 'bf00ff', '3f00ff', '8f00ff', 'ff0', '50c878', 'b48395', '96c8a2', 'c19a6b', '801818', 'b53389', 'f400a1', 'e5aa70', '4d5d53', '4f7942', 'ff2800', '6c541e', 'ce2029', 'b22222', 'e25822', 'fc8eac', 'f7e98e', 'eedc82', 'fffaf0', 'ffbf00', 'ff1493', 'cf0', 'ff004f', '014421', '228b22', 'a67b5b', '0072bb', '86608e', 'cf0', 'c72c48', 'f64a8a', 'f0f', 'c154c1', 'f7f', 'c74375', 'e48400', 'c66', 'dcdcdc', 'e49b0f', 'f8f8ff', 'b06500', '6082b6', 'e6e8fa', 'd4af37', 'ffd700', '996515', 'fcc200', 'ffdf00', 'daa520', 'a8e4a0', '808080', '465945', '808080', 'bebebe', '0f0', '1cac78', '008000', '00a877', '009f6b', '00a550', '66b032', 'adff2f', 'a99a86', '00ff7f', '663854', '446ccf', '5218fa', 'e9d66b', '3fff00', 'c90016', 'da9100', '808000', 'df73ff', 'f400a1', 'f0fff0', '007fbf', '49796b', 'ff1dce', 'ff69b4', '355e3b'];
var markers = [];

function httpGet(theUrl)
{
    var xmlHttp = new XMLHttpRequest();
    xmlHttp.open( "GET", theUrl, false ); // false for synchronous request
    xmlHttp.send( null );
    return JSON.parse(xmlHttp.responseText);
}

for(var i = 0; i < addressPoints.length; i++){
    markers[i] = [];
    for(var j = 0; j < addressPoints[i].length; j++){
        var latlng = addressPoints[i][j].split(', ');
        var marker = new L.CircleMarker(latlng, {radius: 10, fillOpacity: 0.8, color: '#'+colors[i]});
        marker.on('click', function(ev) {
	        var address = httpGet("https://nominatim.openstreetmap.org/reverse?format=json&lat=" + String(ev.latlng["lat"]) + "&lon=" + String(ev.latlng["lng"]) + "&zoom=18&addressdetails=1")["display_name"]
        	ev.target.bindPopup(address).openPopup();
        });
        marker.l = i;
        markers[i].push(marker);
    }
}

for(var i = 0; i < addressPoints.length; i++) {
    var cluster = new L.MarkerClusterGroup({
        iconCreateFunction: function(cl) {
            var layer = cl.getAllChildMarkers()[0].l;
            return new L.DivIcon({ html: '<div class="cluster layer'+layer+'">' + cl.getChildCount() + '</div>' });
        },
        maxClusterRadius: 50
    });
    for(var j = 0; j < markers[i].length; j++){
        cluster.addLayer(markers[i][j]);
    }
    map.addLayer(cluster);
}


